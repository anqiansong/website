"use strict";(self.webpackChunkkeson_cn=self.webpackChunkkeson_cn||[]).push([[3808],{4137:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return g}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),c=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},s=function(e){var n=c(e.components);return r.createElement(p.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=c(t),g=a,u=d["".concat(p,".").concat(g)]||d[g]||m[g]||l;return t?r.createElement(u,o(o({ref:n},s),{},{components:t})):r.createElement(u,o({ref:n},s))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,o=new Array(l);o[0]=d;var i={};for(var p in n)hasOwnProperty.call(n,p)&&(i[p]=n[p]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var c=2;c<l;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},8989:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return p},default:function(){return g},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return m}});var r=t(3117),a=t(102),l=(t(7294),t(4137)),o=["components"],i={title:"grpc\u6e90\u7801\u5b66\u4e60\u7b14\u8bb0(\u7c97\u6d45\u7248)",date:new Date("2021-03-20T00:00:00.000Z"),authors:"keson",tags:["gprc","\u6e90\u7801\u5206\u6790"]},p=void 0,c={permalink:"/go/grpc",source:"@site/blog/go/grpc.md",title:"grpc\u6e90\u7801\u5b66\u4e60\u7b14\u8bb0(\u7c97\u6d45\u7248)",description:"cover",date:"2021-03-20T00:00:00.000Z",formattedDate:"2021\u5e743\u670820\u65e5",tags:[{label:"gprc",permalink:"/tags/gprc"},{label:"\u6e90\u7801\u5206\u6790",permalink:"/tags/\u6e90\u7801\u5206\u6790"}],readingTime:8.603333333333333,truncated:!0,authors:[{name:"Keson",title:"\u5b57\u8282\u8df3\u52a8\u5f00\u53d1\u5de5\u7a0b\u5e08 /  goctl \u7ef4\u62a4\u4eba",url:"https://github.com/anqiansong",imageURL:"/img/logo.webp",key:"keson"}],frontMatter:{title:"grpc\u6e90\u7801\u5b66\u4e60\u7b14\u8bb0(\u7c97\u6d45\u7248)",date:"2021-03-20T00:00:00.000Z",authors:"keson",tags:["gprc","\u6e90\u7801\u5206\u6790"]},prevItem:{title:"gRPC \u6e90\u7801\u9605\u8bfb\u53ca\u5b9e\u8df5\u4e4b resolver",permalink:"/go/grpc-resolver"},nextItem:{title:"\u4e3a\u4ec0\u4e48\u770b\u4e86 N \u6b21 go module, \u5c31\u662f\u8bb0\u4e0d\u4f4f\uff1f",permalink:"/go/golang-module"}},s={authorsImageUrls:[void 0]},m=[{value:"\u539f\u6587\u5730\u5740",id:"\u539f\u6587\u5730\u5740",level:2},{value:"\u6211\u7684\u4e3b\u9875",id:"\u6211\u7684\u4e3b\u9875",level:2},{value:"\u6982\u5ff5",id:"\u6982\u5ff5",level:2},{value:"rpc",id:"rpc",level:3},{value:"grpc",id:"grpc",level:3},{value:"grpc \u4f7f\u7528\u793a\u4f8b",id:"grpc-\u4f7f\u7528\u793a\u4f8b",level:2},{value:"1\u3001\u7f16\u5199proto",id:"1\u7f16\u5199proto",level:3},{value:"2\u3001\u70b9\u51fb\u505a\u4fa7\u8fb9\u680f\u8fd0\u884c\u6309\u94ae\u751f\u6210pb.go",id:"2\u70b9\u51fb\u505a\u4fa7\u8fb9\u680f\u8fd0\u884c\u6309\u94ae\u751f\u6210pbgo",level:3},{value:"3\u3001server\u7aef\u4ee3\u7801",id:"3server\u7aef\u4ee3\u7801",level:3},{value:"4\u3001client\u7aef\u4ee3\u7801",id:"4client\u7aef\u4ee3\u7801",level:3},{value:"\u6e90\u7801\u5206\u6790",id:"\u6e90\u7801\u5206\u6790",level:2},{value:"grpc\u7248\u672c",id:"grpc\u7248\u672c",level:3},{value:"\u5927\u7eb2",id:"\u5927\u7eb2",level:3},{value:"client",id:"client",level:3},{value:"grpc.Dial(clientconn.go:135)",id:"grpcdialclientconngo135",level:4},{value:"SayHello",id:"sayhello",level:4},{value:"invoke(call.go:65)",id:"invokecallgo65",level:5},{value:"server",id:"server",level:2},{value:"grpc.NewServer(server.go:514)",id:"grpcnewserverservergo514",level:3},{value:"RegisterService(server.go:578)",id:"registerserviceservergo578",level:3},{value:"Serve(server.go:699)",id:"serveservergo699",level:3},{value:"\u5b66\u4e60\u5fc3\u5f97",id:"\u5b66\u4e60\u5fc3\u5f97",level:2}],d={toc:m};function g(e){var n=e.components,i=(0,a.Z)(e,o);return(0,l.kt)("wrapper",(0,r.Z)({},d,i,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"cover",src:t(5913).Z,width:"1200",height:"300"})),(0,l.kt)("p",null,"\u672c\u6b21\u6e90\u7801\u9605\u8bfb\u7684\u76ee\u7684\u662f\u5e0c\u671b\u4e86\u89e3\u5230grpc\u4ececlient\u8c03\u7528\u5230server\u7aef\u54cd\u5e94\u7684\u6d41\u7a0b\uff0c\n\u800c\u975e\u7cfb\u7edf\u6027\u7684\u5bf9\u6bcf\u4e2a\u903b\u8f91\u90fd\u8fdb\u884c\u5206\u6790\u548c\u8be6\u89e3\u3002\u5982\u679c\u80fd\u901a\u8fc7\u672c\u6b21\u5b66\u4e60\u5230\u9605\u8bfbgrpc\u6e90\u7801\u7684\n\u7ebf\u7d22\u6216\u8005\u5927\u81f4\u4e86\u89e3\u5230\u5176\u5de5\u4f5c\u6d41\u7a0b\uff0c\u8fd9\u6b21\u9605\u8bfb\u5c31\u6709\u4ef7\u503c\u3002"),(0,l.kt)("p",null,"\u672c\u6b21\u9605\u8bfb\u4ee5\u4e00\u5143rpc\u4f7f\u7528\u4e3a\u5bfc\u5411\u3002"),(0,l.kt)("h2",{id:"\u539f\u6587\u5730\u5740"},"\u539f\u6587\u5730\u5740"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/anqiansong/golang-notes/blob/main/grpc.md"},"grpc\u6e90\u7801\u5b66\u4e60\u7b14\u8bb0"))),(0,l.kt)("h2",{id:"\u6211\u7684\u4e3b\u9875"},"\u6211\u7684\u4e3b\u9875"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/anqiansong"},"https://github.com/anqiansong"))),(0,l.kt)("h2",{id:"\u6982\u5ff5"},"\u6982\u5ff5"),(0,l.kt)("h3",{id:"rpc"},"rpc"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5728\u5206\u5e03\u5f0f\u8ba1\u7b97\uff0c\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528\uff08\u82f1\u8bed\uff1aRemote Procedure Call\uff0c\u7f29\u5199\u4e3a RPC\uff09\u662f\u4e00\u4e2a\u8ba1\u7b97\u673a\u901a\u4fe1\u534f\u8bae\u3002\u8be5\u534f\u8bae\u5141\u8bb8\u8fd0\u884c\u4e8e\u4e00\u53f0\u8ba1\u7b97\u673a\u7684\u7a0b\u5e8f\u8c03\u7528\u53e6\u4e00\u4e2a\u5730\u5740\u7a7a\u95f4\uff08\u901a\u5e38\u4e3a\u4e00\u4e2a\u5f00\u653e\u7f51\u7edc\u7684\u4e00\u53f0\u8ba1\u7b97\u673a\uff09\u7684\u5b50\u7a0b\u5e8f\uff0c\n\u800c\u7a0b\u5e8f\u5458\u5c31\u50cf\u8c03\u7528\u672c\u5730\u7a0b\u5e8f\u4e00\u6837\uff0c\u65e0\u9700\u989d\u5916\u5730\u4e3a\u8fd9\u4e2a\u4ea4\u4e92\u4f5c\u7528\u7f16\u7a0b\uff08\u65e0\u9700\u5173\u6ce8\u7ec6\u8282\uff09\u3002RPC\u662f\u4e00\u79cd\u670d\u52a1\u5668-\u5ba2\u6237\u7aef\uff08Client/Server\uff09\u6a21\u5f0f\uff0c\u7ecf\u5178\u5b9e\u73b0\u662f\u4e00\u4e2a\u901a\u8fc7\u53d1\u9001\u8bf7\u6c42-\u63a5\u53d7\u56de\u5e94\u8fdb\u884c\u4fe1\u606f\u4ea4\u4e92\u7684\u7cfb\u7edf\u3002\u2014\u2014 ",(0,l.kt)("a",{parentName:"p",href:"https://zh.wikipedia.org/wiki/%E9%81%A0%E7%A8%8B%E9%81%8E%E7%A8%8B%E8%AA%BF%E7%94%A8"},"\u7ef4\u57fa\u767e\u79d1"))),(0,l.kt)("h3",{id:"grpc"},"grpc"),(0,l.kt)("p",null,"grpc\u662fgoogle\u7684\u5f00\u6e90rpc\u7cfb\u7edf\uff0c\u8be5\u7cfb\u7edf\u57fa\u4e8e HTTP/2 \u534f\u8bae\u4f20\u8f93\uff0c\u4f7f\u7528Protocol Buffers \u4f5c\u4e3a\u63a5\u53e3\u63cf\u8ff0\u8bed\u8a00\u3002"),(0,l.kt)("p",null,"\u5728 gRPC \u4e2d\uff0c\u5ba2\u6237\u673a\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u4e0d\u540c\u673a\u5668\u4e0a\u7684\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u4e0a\u7684\u65b9\u6cd5\uff0c\u5c31\u597d\u50cf\u5b83\u662f\u4e00\u4e2a\u672c\u5730\u5bf9\u8c61\u4e00\u6837\uff0c\u8fd9\u4f7f\u5f97\u60a8\u66f4\u5bb9\u6613\u521b\u5efa\u5206\u5e03\u5f0f\u5e94\u7528\u7a0b\u5e8f\u548c\u670d\u52a1\u3002\u4e0e\u8bb8\u591a RPC \u7cfb\u7edf\u4e00\u6837\uff0cgRPC \u57fa\u4e8e\u5b9a\u4e49\u670d\u52a1\u7684\u601d\u60f3\uff0c\u6307\u5b9a\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570\u548c\u8fd4\u56de\u7c7b\u578b\u8fdc\u7a0b\u8c03\u7528\u7684\u65b9\u6cd5\u3002\u5728\u670d\u52a1\u5668\u7aef\uff0c\u670d\u52a1\u5668\u5b9e\u73b0\u8fd9\u4e2a\u63a5\u53e3\u5e76\u8fd0\u884c\u4e00\u4e2a gRPC \u670d\u52a1\u5668\u6765\u5904\u7406\u5ba2\u6237\u673a\u8c03\u7528\u3002\u5728\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u6709\u4e00\u4e2a\u5b58\u6839(\u5728\u67d0\u4e9b\u8bed\u8a00\u4e2d\u79f0\u4e3a\u5ba2\u6237\u7aef) \uff0c\u5b83\u63d0\u4f9b\u4e0e\u670d\u52a1\u5668\u76f8\u540c\u7684\u65b9\u6cd5\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://grpc.io/img/landing-2.svg",alt:"grpc"})),(0,l.kt)("h2",{id:"grpc-\u4f7f\u7528\u793a\u4f8b"},"grpc \u4f7f\u7528\u793a\u4f8b"),(0,l.kt)("h3",{id:"1\u7f16\u5199proto"},"1\u3001\u7f16\u5199proto"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-protobuf"},'syntax = "proto3";\n\n//x:generate protoc --go_out=%DIR% --go-grpc_out=%DIR% %BASE%\n\npackage greet;\n\nservice Greeter {\n  // Sends a greeting\n  rpc SayHello (HelloRequest) returns (HelloReply) {}\n}\n\n// The request message containing the user\'s name.\nmessage HelloRequest {\n  string name = 1;\n}\n\n// The response message containing the greetings\nmessage HelloReply {\n  string message = 1;\n}\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6e29\u99a8\u63d0\u793a"),(0,l.kt)("pre",{parentName:"blockquote"},(0,l.kt)("code",{parentName:"pre",className:"language-text"},"//x:generate protoc --go_out=%DIR% --go-grpc_out=%DIR% %BASE%\n")),(0,l.kt)("p",{parentName:"blockquote"},"\u8fd9\u6bb5\u6ce8\u91ca\u5728\u5b89\u88c5intellij\u63d2\u4ef6(CommentShell)\u540e\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u5e76\u751f\u6210pb.go\uff0c\u524d\u63d0\u662f\u5df2\u7ecf\u5b89\u88c5\u4e86\n",(0,l.kt)("inlineCode",{parentName:"p"},"protoc")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"protoc-gen-go-grpc"))),(0,l.kt)("h3",{id:"2\u70b9\u51fb\u505a\u4fa7\u8fb9\u680f\u8fd0\u884c\u6309\u94ae\u751f\u6210pbgo"},"2\u3001\u70b9\u51fb\u505a\u4fa7\u8fb9\u680f\u8fd0\u884c\u6309\u94ae\u751f\u6210pb.go"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://oscimg.oschina.net/oscnet/up-908ef1de9bc427a2e4de6d2fec0cc5853ad.png",alt:null})),(0,l.kt)("h3",{id:"3server\u7aef\u4ee3\u7801"},"3\u3001server\u7aef\u4ee3\u7801"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'type serverImplemented struct {\n    greet.UnimplementedGreeterServer\n}\n\nfunc (s *serverImplemented) SayHello(context.Context, *greet.Req) (*greet.Reply, error) {\n    return &greet.Reply{}, nil\n}\n\nfunc main() {\n    s := grpc.NewServer()\n    greet.RegisterGreeterServer(s, &serverImplemented{})\n    lis, err := net.Listen("tcp", "127.0.0.1:8888")\n    if err != nil {\n        log.Fatal(err)\n    }\n    err = s.Serve(lis)\n    if err != nil {\n        log.Fatal(err)\n    }\n}\n')),(0,l.kt)("h3",{id:"4client\u7aef\u4ee3\u7801"},"4\u3001client\u7aef\u4ee3\u7801"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'conn, err := grpc.Dial("", grpc.WithInsecure(), grpc.WithBlock())\nif err != nil {\n    log.Fatal(err)\n}\n\nclient := greet.NewGreeterClient(conn)\n// \u5ffd\u7565resp\nclient.SayHello(context.Background(), &greet.Req{})\n')),(0,l.kt)("h2",{id:"\u6e90\u7801\u5206\u6790"},"\u6e90\u7801\u5206\u6790"),(0,l.kt)("h3",{id:"grpc\u7248\u672c"},"grpc\u7248\u672c"),(0,l.kt)("p",null,"v.1.36.0"),(0,l.kt)("h3",{id:"\u5927\u7eb2"},"\u5927\u7eb2"),(0,l.kt)("p",null,(0,l.kt)("img",{parentName:"p",src:"https://oscimg.oschina.net/oscnet/up-a19d6dbcb677eb60d4e8d26e9e589f9c738.png",alt:null})),(0,l.kt)("h3",{id:"client"},"client"),(0,l.kt)("p",null,"\u6211\u4eec\u4ece\u4e0a\u9762\u7684demo\u7684client\u7aef\u4f5c\u4e3a\u5165\u53e3\u6765\u8fdb\u5165\u6e90\u7801\uff0c\u4ececlient\u4f7f\u7528\u6211\u4eec\u53ef\u4ee5\u5f97\u77e5\uff0c\n\u8be5\u7a0b\u5e8f\u6709\u4e24\u4e2a\u6b65\u9aa4\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Dial"),(0,l.kt)("li",{parentName:"ul"},"SayHello\uff08Invoke\uff09")),(0,l.kt)("h4",{id:"grpcdialclientconngo135"},"grpc.Dial(clientconn.go:135)"),(0,l.kt)("p",null,"Dial\u6700\u7ec8\u4f1a\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"grpc.DialContext")," \u65b9\u6cd5\uff0c\u8fd9\u91cc\u9762\u6211\u4e2a\u4eba\u5728\u9605\u8bfb\u7684\u65f6\u5019\u4e3b\u8981\u5173\u6ce8\u4e86\u4e00\u4e0b\u51e0\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4e2d\u95f4\u4ef6\u94fe\u5f0f\u8c03\u7528"),(0,l.kt)("p",{parentName:"li"},"\u4e00\u6b21\u6267\u884c\u4e2d\u95f4\u4ef6\u4e2d\u7684\u903b\u8f91\uff0c\u5f62\u6210\u94fe\u5f0f\u8c03\u7528\u62fc\u88c5"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},"chainUnaryClientInterceptors(cc)\nchainStreamClientInterceptors(cc)\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"insecure\u5904\u7406"),(0,l.kt)("p",{parentName:"li"},"\u5b89\u88c5\u4f20\u8f93\u53c2\u6570\u6821\u9a8c\uff0c\u5176\u53ef\u4ee5\u7531 ",(0,l.kt)("inlineCode",{parentName:"p"},"grpc.WithInsecure()")," \u6765\u63a7\u5236\u662f\u5426\u5f00\u542f\u5b89\u5168\u4f20\u8f93\uff0c\u5982\u679c\u5f00\u542f\uff0c\n\u5219\u4f1a\u5bf9https\u8bc1\u4e66\uff0c\u5bc6\u94a5\u5728\u8fd9\u4e00\u6b65\u505a\u53c2\u6570\u6821\u9a8c\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},"if !cc.dopts.insecure {\n    if cc.dopts.copts.TransportCredentials == nil && cc.dopts.copts.CredsBundle == nil {\n        return nil, errNoTransportSecurity\n    }\n    if cc.dopts.copts.TransportCredentials != nil && cc.dopts.copts.CredsBundle != nil {\n        return nil, errTransportCredsAndBundle\n    }\n} else {\n    if cc.dopts.copts.TransportCredentials != nil || cc.dopts.copts.CredsBundle != nil {\n        return nil, errCredentialsConflict\n    }\n    for _, cd := range cc.dopts.copts.PerRPCCredentials {\n        if cd.RequireTransportSecurity() {\n            return nil, errTransportCredentialsMissing\n        }\n    }\n}\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"defaultServiceConfigRawJSON \u89e3\u6790"),(0,l.kt)("p",{parentName:"li"},"\u901a\u8fc7json\u6587\u672c\u5f62\u5f0f\u8bbe\u7f6eServiceConfig\uff0c\u76f8\u5173\u53c2\u6570\u89c1"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},"type jsonSC struct {\n    // \u8d1f\u8f7d\u5747\u8861\u7b56\u7565\n    LoadBalancingPolicy *string\n    // \u8d1f\u8f7d\u5747\u8861\u914d\u7f6e\n    LoadBalancingConfig *internalserviceconfig.BalancerConfig\n    // \u6bcf\u4e2arpc\u65b9\u6cd5\u7684\u914d\u7f6e\n    MethodConfig        *[]jsonMC\n    // \u91cd\u8bd5\u673a\u5236\u76f8\u5173\u914d\u7f6e\n    RetryThrottling     *retryThrottlingPolicy\n    // \u5065\u5eb7\u68c0\u6d4b\u914d\u7f6e\n    HealthCheckConfig   *healthCheckConfig\n}\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u8d85\u65f6\u63a7\u5236"),(0,l.kt)("p",{parentName:"li"},"\u5ba2\u6237\u7aef\u8d85\u65f6\u63a7\u5236\u662f\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Context.WithTimeout")," \u8fdb\u884c\u63a7\u5236\u7684\uff0c\u5176\u8d85\u65f6\u65f6\u957f\u53ef\u4ee5\u901a\u8fc7\n",(0,l.kt)("inlineCode",{parentName:"p"},"grpc.WithTimeout(time.Duration)")," \u63a7\u5236\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},"if cc.dopts.timeout > 0 {\n        var cancel context.CancelFunc\n        ctx, cancel = context.WithTimeout(ctx, cc.dopts.timeout)\n        defer cancel()\n    }\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"getResolver"),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"getResolver"),"\u4f18\u5148\u4eceDialOption\u4e2d\u8bfb\u53d6\uff0c\u5176\u6b21\u4e2d\u5168\u5c40\u8bfb\u53d6\uff0cDialOption\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"grpc.WithResolvers()")," \u8bbe\u7f6e\uff0c\n\u5168\u5c40\u7684\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"resolver.Register(Builder)")," \u6ce8\u518c,\u7528\u6cd5\u53ef\u53c2\u8003 ",(0,l.kt)("inlineCode",{parentName:"p"},"resolver/dns/dns_resolver.go"),"\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},"func (cc *ClientConn) getResolver(scheme string) resolver.Builder {\n    for _, rb := range cc.dopts.resolvers {\n        if scheme == rb.Scheme() {\n            return rb\n        }\n    }\n    return resolver.Get(scheme)\n}\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"block\u63a7\u5236"))),(0,l.kt)("p",null,"\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"DialContext")," \u6587\u6863\u6ce8\u91ca\u4e2d\u5df2\u7ecf\u8bf4\u660e\uff0cblock\u4f1a\u963b\u585edial\u8fc7\u7a0b\uff0c\u77e5\u9053\u8fde\u63a5\u72b6\u6001\u53d8\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"Ready")," \u6216\u8005\u9047\u5230\u9519\u8bef\uff0c\u9ed8\u8ba4\u662f\u975e\u963b\u585e\u7684\uff08\u5373\u5728\u540e\u53f0\u5efa\u7acb\u8fde\u63a5\u64cd\u4f5c\uff09\u3002\n\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"grpc.WithBlock()")," \u6765\u63a7\u5236\u963b\u585e\u3002"),(0,l.kt)("h4",{id:"sayhello"},"SayHello"),(0,l.kt)("p",null,"\u901a\u8fc7\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"SayHello"),"\u65b9\u6cd5\u8ffd\u6eaf\uff0c\u5728pb.go\u6587\u4ef6\u4e2d\u53ef\u4ee5\u770b\u5230\u5176\u8c03\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"Invoke")," \u65b9\u6cd5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'func (c *greeterClient) SayHello(ctx context.Context, in *Req, opts ...grpc.CallOption) (*Reply, error) {\n    out := new(Reply)\n    err := c.cc.Invoke(ctx, "/greet.Greeter/SayHello", in, out, opts...)\n    if err != nil {\n        return nil, err\n    }\n    return out, nil\n}\n')),(0,l.kt)("p",null,"\u6df1\u5165\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"Invoke")," \u65b9\u6cd5\u4e2d\uff0c\u627e\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"ClientConn.Invoke()")," \u5176\u5b9e\u73b0\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"ClientConnInterface"),"\uff0c\u627e\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"call.go")," \u7b2c 29 \u884c\uff0c\u5728\u8be5\u65b9\u6cd5\u4e2d\u505a\u4e86\u4e24\u4ef6\u4e8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"opts = combine(cc.dopts.callOptions, opts)\n\n    if cc.dopts.unaryInt != nil {\n        return cc.dopts.unaryInt(ctx, method, args, reply, cc, invoke, opts...)\n    }\n    return invoke(ctx, method, args, reply, cc, opts...)\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"combine \u7ec4\u88c5CallOption"),(0,l.kt)("li",{parentName:"ul"},"invoke \u771f\u6b63\u6267\u884cclient\u8c03\u7528")),(0,l.kt)("h5",{id:"invokecallgo65"},"invoke(call.go:65)"),(0,l.kt)("p",null,"\u5728\u8be5\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u7ec8\u4e8e\u770b\u5230\u4e86\u6838\u5fc3\u7684\u903b\u8f91:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"newClientStream(stream.go:160)"),(0,l.kt)("p",{parentName:"li"},"\u5728\u8be5\u65b9\u6cd5\u4e2d\u4e3b\u8981\u662f\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5176\u4e2d\u53ef\u4ee5\u91cd\u70b9\u5173\u6ce8\u4e00\u4e0b ",(0,l.kt)("inlineCode",{parentName:"p"},"Compressor")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Encode")," \u521d\u59cb\u5316\u3002"),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Compressor(stream.go:233)\uff1a")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},'if ct := c.compressorType; ct != "" {\n        callHdr.SendCompress = ct\n        if ct != encoding.Identity {\n            comp = encoding.GetCompressor(ct)\n            if comp == nil {\n                return nil, status.Errorf(codes.Internal, "grpc: Compressor is not installed for requested grpc-encoding %q", ct)\n            }\n        }\n    } else if cc.dopts.cp != nil {\n        callHdr.SendCompress = cc.dopts.cp.Type()\n        cp = cc.dopts.cp\n    }\n')),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"Compressor"),"\u4f1a\u4f18\u5148\u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"CallOption")," \u4e2d\u53bb\u8bfb\u53d6 ",(0,l.kt)("inlineCode",{parentName:"p"},"Compressor")," \u7684\u540d\u79f0\uff0c\u7136\u540e\u4ece\u5168\u5c40\u4e2d\u53bb\u67e5\u627e\uff08\u524d\u63d0\u5df2\u6ce8\u518c\uff09\uff0c\n\u5176\u6b21\u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"DialOption"),"\u4e2d\u53bb\u8bfb\u53d6\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"grpc.WithCompressor()")," \u6267\u884c\u3002"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u81ea\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"Compressor")," \u53ef\u53c2\u8003 ",(0,l.kt)("inlineCode",{parentName:"p"},"gzip.go"),",\u8fd9\u4e5f\u662f\u9ed8\u8ba4\u7684\u538b\u7f29\u65b9\u5f0f")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"Encoding(rpc_util.go:854)\uff1a")),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},'if c.codec != nil {\n        // codec was already set by a CallOption; use it.\n        return nil\n    }\n\n    if c.contentSubtype == "" {\n        // No codec specified in CallOptions; use proto by default.\n        c.codec = encoding.GetCodec(proto.Name)\n        return nil\n    }\n\n    // c.contentSubtype is already lowercased in CallContentSubtype\n    c.codec = encoding.GetCodec(c.contentSubtype)\n    if c.codec == nil {\n        return status.Errorf(codes.Internal, "no codec registered for content-subtype %s", c.contentSubtype)\n    }\n    return nil\n')),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"Encode \u4f1a\u4f18\u5148\u4ece "),"CallOption",(0,l.kt)("inlineCode",{parentName:"p"},"\u4e2d\u8bfb\u53d6\uff0c\u7136\u540e\u4ece\u5168\u5c40\u4e2d\u67e5\u627e\uff0c\u5982\u679c\u6ca1\u6709\u5219\u4f7f\u7528\u9ed8\u8ba4\u7684encoding\u65b9\u5f0f\u2014\u2014"),"proto`,\u8fd9\u4e2a\u4e5f\u662f\u9ed8\u8ba4\u7684encoding\u65b9\u5f0f\u3002"),(0,l.kt)("blockquote",{parentName:"li"},(0,l.kt)("p",{parentName:"blockquote"},"\u81ea\u5b9a\u4e49 ",(0,l.kt)("inlineCode",{parentName:"p"},"Encoding")," \u53ef\u53c2\u8003 ",(0,l.kt)("inlineCode",{parentName:"p"},"proto.go")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"ClientStream.SendMsg(stream.go:1193)\n",(0,l.kt)("inlineCode",{parentName:"p"},"SendMsg")," \u91cc\u9762\u6709\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u65b9\u6cd5 ",(0,l.kt)("inlineCode",{parentName:"p"},"prepareMsg"),"\uff0c\u5176\u5c06\u8bf7\u6c42\u4f53\u8fdb\u884cencoding\u548ccompress\u7136\u540e\u5f97\u5230\n",(0,l.kt)("inlineCode",{parentName:"p"},"hdr"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"payload"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"hdr"),"\u4e2d\u67095\u4e2abyte\u7684\u5185\u5bb9\uff0c\u5176\u4e2d\u7b2c\u4e00\u4e2abyte\u5b58\u50a8\u7684\u662f\u662f\u5426compress\u7684\u6807\u5fd7\u4f4d\uff0c1\uff1a\u538b\u7f29\uff0c\n0\uff1a\u672a\u538b\u7f29\u3002\u5269\u4f594\u4e2abyte\u5b58\u50a8\u7684\u662fpayload\u7684\u957f\u5ea6\u3002\n\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"prepareMsg")," \u5b8c\u6210\u540e\u5c31\u8fdb\u5165\u6570\u636e\u4f20\u8f93\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"transport.ClientTransport.Write"),"\uff0c\u8fd9\u91cc\u5c31\u4e0d\u7ee7\u7eed\u6df1\u7a76\u4e0b\u53bb\u4e86\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"ClientStream.RecvMsg(stream.go:1238)"),(0,l.kt)("p",{parentName:"li"},"\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"RecvMsg")," \u65b9\u6cd5\u4e2d\u5176\u9996\u5148\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"transport.Stream.RecvCompress")," \u8bfb\u53d6 ",(0,l.kt)("inlineCode",{parentName:"p"},"hdr"),",\u5224\u65ad\u662f\u5426\u9700\u8981 ",(0,l.kt)("inlineCode",{parentName:"p"},"UnCompress")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Decoding"),"\uff0c\u7136\u540e\n\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"recv")," \u8bfb\u53d6\u54cd\u5e94\u7684\u5185\u5bb9\u3002"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-go"},'if !as.decompSet {\n        // Block until we receive headers containing received message encoding.\n        if ct := as.s.RecvCompress(); ct != "" && ct != encoding.Identity {\n            if as.dc == nil || as.dc.Type() != ct {\n                // No configured decompressor, or it does not match the incoming\n                // message encoding; attempt to find a registered compressor that does.\n                as.dc = nil\n                as.decomp = encoding.GetCompressor(ct)\n            }\n        } else {\n            // No compression is used; disable our decompressor.\n            as.dc = nil\n        }\n        // Only initialize this state once per stream.\n        as.decompSet = true\n    }\n    err = recv(as.p, as.codec, as.s, as.dc, m, *as.callInfo.maxReceiveMessageSize, nil, as.decomp)\n    if err != nil {\n        if err == io.EOF {\n            if statusErr := as.s.Status().Err(); statusErr != nil {\n                return statusErr\n            }\n            return io.EOF // indicates successful end of stream.\n        }\n        return toRPCErr(err)\n    }\n\n')))),(0,l.kt)("h2",{id:"server"},"server"),(0,l.kt)("p",null,"\u4ece\u4e0a\u8ff0demo\u4e2d\u53ef\u4e3a\u7ebf\u7d22\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"server"),"\u7aef\u6211\u4eec\u5173\u6ce8\u4e09\u4e2a\u9636\u6bb5"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"grpc.NewServer"),(0,l.kt)("li",{parentName:"ul"},"RegisterService"),(0,l.kt)("li",{parentName:"ul"},"Serve")),(0,l.kt)("h3",{id:"grpcnewserverservergo514"},"grpc.NewServer(server.go:514)"),(0,l.kt)("p",null,"\u8be5\u65b9\u6cd5\u4e2d\u505a\u7684\u4e8b\u60c5\uff0c\u6211\u8ba4\u4e3a\u6bd4 ",(0,l.kt)("inlineCode",{parentName:"p"},"client")," \u7b80\u5355\u5f88\u591a\uff0c\u4e3b\u8981\u662f\u4e00\u4e9b\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u4e2d\u95f4\u4ef6\u7684\u94fe\u5f0f\u8c03\u7528\u62fc\u88c5\u4e5f\u5728\u8fd9\u91cc\u5b8c\u6210\u4e86\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"chainUnaryServerInterceptors(s)\nchainStreamServerInterceptors(s)\n")),(0,l.kt)("h3",{id:"registerserviceservergo578"},"RegisterService(server.go:578)"),(0,l.kt)("p",null,"\u5176\u4f1a\u5728\u505a\u7b80\u5355\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"interface")," \u5b9e\u73b0\u68c0\u9a8c\u540e\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"register(server.go:589)")," \u65b9\u6cd5\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'s.mu.Lock()\ndefer s.mu.Unlock()\ns.printf("RegisterService(%q)", sd.ServiceName)\nif s.serve {\n    logger.Fatalf("grpc: Server.RegisterService after Server.Serve for %q", sd.ServiceName)\n}\nif _, ok := s.services[sd.ServiceName]; ok {\n    logger.Fatalf("grpc: Server.RegisterService found duplicate service registration for %q", sd.ServiceName)\n}\ninfo := &serviceInfo{\n    serviceImpl: ss,\n    methods:     make(map[string]*MethodDesc),\n    streams:     make(map[string]*StreamDesc),\n    mdata:       sd.Metadata,\n}\nfor i := range sd.Methods {\n    d := &sd.Methods[i]\n    info.methods[d.MethodName] = d\n}\nfor i := range sd.Streams {\n    d := &sd.Streams[i]\n    info.streams[d.StreamName] = d\n}\ns.services[sd.ServiceName] = info\n')),(0,l.kt)("p",null,"\u672c\u9636\u6bb5\u5c06\u6bcf\u4e2arpc\u65b9\u6cd5\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u4ee5\u4fbf\u540e\u7eed\u4f7f\u7528\u3002"),(0,l.kt)("h3",{id:"serveservergo699"},"Serve(server.go:699)"),(0,l.kt)("p",null,"\u63a5\u6536\u6765\u81ea ",(0,l.kt)("inlineCode",{parentName:"p"},"client")," \u7aef\u7684\u8bf7\u6c42\uff0c\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"goroutine")," \u8bfb\u53d6\u8bf7\u6c42\u6570\u636e\u5e76\u5904\u7406\u540e\u54cd\u5e94\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},'for {\n    rawConn, err := lis.Accept()\n    if err != nil {\n        if ne, ok := err.(interface {\n            Temporary() bool\n        }); ok && ne.Temporary() {\n            if tempDelay == 0 {\n                tempDelay = 5 * time.Millisecond\n            } else {\n                tempDelay *= 2\n            }\n            if max := 1 * time.Second; tempDelay > max {\n                tempDelay = max\n            }\n            s.mu.Lock()\n            s.printf("Accept error: %v; retrying in %v", err, tempDelay)\n            s.mu.Unlock()\n            timer := time.NewTimer(tempDelay)\n            select {\n            case <-timer.C:\n            case <-s.quit.Done():\n                timer.Stop()\n                return nil\n            }\n            continue\n        }\n        s.mu.Lock()\n        s.printf("done serving; Accept = %v", err)\n        s.mu.Unlock()\n\n        if s.quit.HasFired() {\n            return nil\n        }\n        return err\n    }\n    tempDelay = 0\n    // Start a new goroutine to deal with rawConn so we don\'t stall this Accept\n    // loop goroutine.\n    //\n    // Make sure we account for the goroutine so GracefulStop doesn\'t nil out\n    // s.conns before this conn can be added.\n    s.serveWG.Add(1)\n    go func() {\n        s.handleRawConn(rawConn)\n        s.serveWG.Done()\n    }()\n}\n')),(0,l.kt)("p",null,"\u6838\u5fc3\u5904\u7406\u903b\u8f91\uff0c\u6211\u4eec\u8fdb\u5165 ",(0,l.kt)("inlineCode",{parentName:"p"},"s.handleRawConn(rawConn)")," \u65b9\u6cd5\u67e5\u770b\u4e00\u4e0b\uff0c\u5728\u8be5\u65b9\u6cd5\u4e2d\u5b9e\u73b0\u4e86\u5efa\u7acb\u8fde\u63a5\u548c\u5904\u7406 ",(0,l.kt)("inlineCode",{parentName:"p"},"stream"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"conn, authInfo, err := s.useTransportAuthenticator(rawConn)\n...\ngo func() {\n    s.serveStreams(st)\n    s.removeConn(st)\n}()\n")),(0,l.kt)("p",null,"serveStreams(server.go:857)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"...\ns.handleStream(st, stream, s.traceInfo(st, stream))\n...\n")),(0,l.kt)("p",null,"handleStream(server.go:1510)\n\u8fd9\u91cc\u4fbf\u4f7f\u7528\u5230\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"RegisterService")," \u6b65\u9aa4\u4e2d\u7684\u90e8\u5206\u4fe1\u606f\uff0c\u6821\u9a8crpc\u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u5219\u7ee7\u7eed\u5904\u7406\uff0c\u8fd9\u91cc\u6709\u4e00\u5143\nrpc\u6570\u636e\u5904\u7406\u548c\u6d41\u5f0f\u6570\u636e\u5904\u7406\uff0c\u6211\u4eec\u8fdb\u5165\u4e00\u5143rpc\u7684\u6570\u636e\u5904\u7406 ",(0,l.kt)("inlineCode",{parentName:"p"},"processUnaryRPC")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"srv, knownService := s.services[service]\nif knownService {\n    if md, ok := srv.methods[method]; ok {\n        s.processUnaryRPC(t, stream, srv, md, trInfo)\n        return\n    }\n    if sd, ok := srv.streams[method]; ok {\n        s.processStreamingRPC(t, stream, srv, sd, trInfo)\n        return\n    }\n}\n")),(0,l.kt)("p",null,"processUnaryRPC(server.go:1062)\n\u8fd9\u91cc\u624d\u662f\u771f\u6b63\u8bfb\u53d6\u8bf7\u6c42\u548c\u54cd\u5e94\u8bf7\u6c42\u7684\u5730\u65b9\uff0c\u5176\u5904\u7406\u903b\u8f91\u5927\u81f4\u4e3a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u83b7\u53d6Compressor\uff0c\u89e3\u538b\u8bfb\u53d6\u5230\u7684payload\u6570\u636e",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"1\u3001\u4f18\u5148\u4ecehdr\u4e2d\u83b7\u53d6\uff0c\u5982\u679c\u6ca1\u6709\u5219\u6267\u884c\u7b2c2\u6b65"),(0,l.kt)("li",{parentName:"ul"},"2\u3001\u4eceServerOption\u83b7\u53d6\u662f\u5426\u8bbe\u7f6eCompressor"))),(0,l.kt)("li",{parentName:"ul"},"\u8bfb\u53d6\u6570\u636e\u3001UnCompress\u3001Decode"),(0,l.kt)("li",{parentName:"ul"},"sendResponse\u54cd\u5e94\u6570\u636e")),(0,l.kt)("h2",{id:"\u5b66\u4e60\u5fc3\u5f97"},"\u5b66\u4e60\u5fc3\u5f97"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u63d2\u4ef6\u5f0f\u7f16\u7a0b",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"encoding\u7684\u6ce8\u518c\u4e0e\u83b7\u53d6"),(0,l.kt)("li",{parentName:"ul"},"compressor\u7684\u6ce8\u518c\u4e0e\u83b7\u53d6"),(0,l.kt)("li",{parentName:"ul"},"resolver\u7684\u6ce8\u518c\u4e0e\u83b7\u53d6"))),(0,l.kt)("li",{parentName:"ul"},"\u521d\u6b65\u4e86\u89e3\u4e00\u5143rpc\u7684\u8c03\u7528\u6d41\u7a0b")),(0,l.kt)("h1",{id:"\u603b\u7ed3"},"\u603b\u7ed3"),(0,l.kt)("p",null,"\u672c\u6b21\u5b66\u4e60\u975e\u5e38\u7c97\u6d45\uff0c\u5728\u6d88\u5316\u540e\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u9605\u8bfb\u6bcf\u4e2a\u9636\u6bb5\u7684\u7ec6\u8282\u4ee5\u52a0\u6df1\u5bf9grpc\u5904\u7406\u6d41\u7a0b\u7684\u7406\u89e3\u548c\u758f\u5bfc\u3002"))}g.isMDXComponent=!0},5913:function(e,n,t){n.Z=t.p+"assets/images/grpc-c076f0d61f8d9ce63f512551d750aa9f.jpeg"}}]);